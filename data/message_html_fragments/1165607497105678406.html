<div class="chatlog__message-group">
  <div id="chatlog__message-container-1165607497105678406" class="chatlog__message-container" data-message-id="1165607497105678406">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/338302215078936576/2f0f5d2880a9a7bdc037652fbade2e9a.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(241,196,15)" title="hironytic" data-user-id="338302215078936576">hironytic</span> <a href="/channels/499393715140558881?category=コミュニティ&amp;channel=swift-zoomin&amp;message_id=1165607825280618536"><span class="chatlog__timestamp" title="Sunday, October 22, 2023 11:08 AM"></span></a><a href="#chatlog__message-container-1165607497105678406">10/22/2023 11:08 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">こんな感じで実装用のビューを分けてやれば、 <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">@Environment</code> でDIを可能にしつつ、ViewStateを持つというのは一応できそうです。Observationを使う方なら。 <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">struct UserView: View { let id: User.ID @Environment(UserStore.self) var userStore var body: some View { UserStateView(state: UserViewState(userStore: userStore, id: id)) } } struct UserStateView: View { let state: UserViewState var body: some View { VStack { Text(state.user?.name ?? "User Name") .redacted(reason: state.user == nil ? .placeholder : []) .font(.title) ...</code></span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1165607825280618536" class="chatlog__message-container" data-message-id="1165607825280618536">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Sunday, October 22, 2023 11:09 AM">11:09 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">やってみたやつ <a href="https://github.com/hironytic/swift-zoomin-16/tree/view-state">https://github.com/hironytic/swift-zoomin-16/tree/view-state</a></span></div>
      </div>
    </div>
  </div>
</div>