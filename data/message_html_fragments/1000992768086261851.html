<div class="chatlog__message-group">
  <div id="chatlog__message-container-1000992768086261851" class="chatlog__message-container" data-message-id="1000992768086261851">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/293624673265123328/accd07acc220a18568ba46a6e9ede18a.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(17,128,106)" title="koher" data-user-id="293624673265123328">koher</span> <a href="/channels/306995750418513920?category=main&amp;channel=swift-2&amp;message_id=1000992768086261851"><span class="chatlog__timestamp" title="Monday, 25 July 2022 05:07"></span></a><a href="#chatlog__message-container-1000992768086261851">07/25/2022 05:07</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">↑があれば、たとえば↓のようなことができる。 <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">@rethrows protocol FailureProtocol: Error { func throwSelf() throws -&gt; Never } extension FailureProtocol { func throwSelf() throws -&gt; Never { throw self } } extension Never: FailureProtocol { func throwSelf() -&gt; Never { fatalError() } } struct FooError: FailureProtocol {} @rethrows protocol ResultProtocol { associatedtype Value associatedtype Failure: FailureProtocol func get() throws -&gt; Value } enum Result&lt;Value, Failure: FailureProtocol&gt;: ResultProtocol { case success(Value) case failure(Failure) func get() rethrows -&gt; Value { switch self { case .success(let value): return value case .failure(let error): try error.throwSelf() } } } func useResult&lt;R: ResultProtocol&gt;(_ result: R) rethrows { try print(result.get()) } useResult(Result&lt;Int, Never&gt;.success(42)) try useResult(Result&lt;Int, FooError&gt;.success(42))</code></span></div>
      </div>
    </div>
  </div>
</div>