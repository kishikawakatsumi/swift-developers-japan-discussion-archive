<div class="chatlog__message-group">
  <div class="chatlog__author-avatar-container">
    <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=128" alt="Avatar" loading="lazy">
  </div>
  <div class="chatlog__messages">
    <span class="chatlog__author-name" title="omochimetaru#1122" data-user-id="189711109966659584" style="color: rgb(237,171,161)">omochimetaru</span>
    <a href="/channels/291054454793306112?category=main&amp;channel=swift&amp;message_id=334552796579758083"><span class="chatlog__timestamp">12-Jul-17 04:28 AM</span></a>
    <div class="chatlog__message " data-message-id="334551584082231298" id="message-334551584082231298" title="Message sent: 12-Jul-17 04:28 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">おっ・・・</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334551607133863937" id="message-334551607133863937" title="Message sent: 12-Jul-17 04:28 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace"><a href="https://github.com/apple/swift/blob/master/docs/SIL.rst#id87">https://github.com/apple/swift/blob/master/docs/SIL.rst#id87</a></span>
        </div>
      </div>
      <div class="chatlog__embed">
        <div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div>
        <div class="chatlog__embed-content-container">
          <div class="chatlog__embed-content">
            <div class="chatlog__embed-text">
              <div class="chatlog__embed-title">
                <a class="chatlog__embed-title-link" href="https://github.com/apple/swift/blob/master/docs/SIL.rst">
                  <div class="markdown preserve-whitespace">apple/swift</div>
                </a>
              </div>
              <div class="chatlog__embed-description">
                <div class="markdown preserve-whitespace">swift - The Swift Programming Language</div>
              </div>
            </div>
            <div class="chatlog__embed-thumbnail-container">
              <a class="chatlog__embed-thumbnail-link" href="https://images-ext-2.discordapp.net/external/VOnFhjYy-bFHP1o_KoyE8uQvbO7kcR0FyqN9-h43aE4/%3Fv%3D3%26s%3D400/https/avatars0.githubusercontent.com/u/10639145">
                <img class="chatlog__embed-thumbnail" src="https://images-ext-2.discordapp.net/external/VOnFhjYy-bFHP1o_KoyE8uQvbO7kcR0FyqN9-h43aE4/%3Fv%3D3%26s%3D400/https/avatars0.githubusercontent.com/u/10639145" alt="Thumbnail" loading="lazy">
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334551675635236867" id="message-334551675635236867" title="Message sent: 12-Jul-17 04:28 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline nohighlight">except that copy_addr may be used even if %0 is of an address-only type. The copy_addr may be given one or both of the [take] or [initialization] attributes: [take] destroys the value at the source address in the course of the copy. [initialization] indicates that the destination address is uninitialized. Without the attribute, the destination address is treated as already initialized, and the existing value will be destroyed before the new value is stored.</div>
          </span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334551925230010369" id="message-334551925230010369" title="Message sent: 12-Jul-17 04:29 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">SIL命令copy_addr にオプションがつけられて、takeなら破壊、initializationなら初期化</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334551961166675981" id="message-334551961166675981" title="Message sent: 12-Jul-17 04:30 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace"><span class="mention" title="norio_nomura#8334">@norio_nomura</span> の貼ったSILコードを抜粋すると</span>
          <span class="chatlog__edited-timestamp" title="12-Jul-17 04:30 AM">(edited)</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334552054053863434" id="message-334552054053863434" title="Message sent: 12-Jul-17 04:30 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline nohighlight">... copy_addr [take] %6 to [initialization] %3 : $*Self, loc "&lt;stdin&gt;":4:14, scope 3 // id: %8 ... copy_addr %3 to [initialization] %0 : $*Self, loc "&lt;stdin&gt;":5:5, scope 3 // id: %10 ...</div>
          </span>
          <span class="chatlog__edited-timestamp" title="12-Jul-17 04:30 AM">(edited)</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334552227865952257" id="message-334552227865952257" title="Message sent: 12-Jul-17 04:31 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">%0はメソッドのレシーバ、%3はローカル変数のself、%6はf()の戻り値の格納先なので</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334552621077626880" id="message-334552621077626880" title="Message sent: 12-Jul-17 04:32 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">f()は完全なオブジェクトを返して、それを破壊しながらローカル変数のselfに初期化代入、つまりムーブ そのselfを、レシーバの真のselfに 初期化代入、そのあとdesstroy_addrで%3を破壊してるんで、ここはコピー</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334552754997690380" id="message-334552754997690380" title="Message sent: 12-Jul-17 04:33 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">結論として、allocはされてるけど、initはされてない形で全部回ってますね</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="334552796579758083" id="message-334552796579758083" title="Message sent: 12-Jul-17 04:33 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">ちゃんとコンパイラはわかっているっぽい</span>
        </div>
      </div>
    </div>
  </div>
</div>