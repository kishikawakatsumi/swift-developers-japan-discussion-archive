<div class="chatlog__message-group">
  <div id="chatlog__message-container-953306020657106994" class="chatlog__message-container" data-message-id="953306020657106994">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/341261694279876609/2ed016f6e6f34c7c11dc276a23f08efd.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" title="k_bo" data-user-id="341261694279876609">kebo</span> <a href="/channels/585184753364238346?category=開発環境, ライブラリ&amp;channel=swiftui&amp;message_id=953306020657106994"><span class="chatlog__timestamp" title="Tuesday, 15 March 2022 14:57"></span></a><a href="#chatlog__message-container-953306020657106994">03/15/2022 14:57</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">URL</code> を返す async 関数を <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">Task</code> のクロージャで <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">await</code> するようなボタンを Xcode Previews 上でクリックしたら必ずプレビューのプロセスがクラッシュする (実機だと問題なし) という謎の問題を発見して，特に困っているわけではないのですが気になるので情報をお持ちの方を探しています． 以下ミニマル再現コードです．(macOS 12.3 &amp; Xcode 13.3 や iPadOS 15.4 &amp; Swift Playgrounds 4.0.2 で再現することを確認) <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">import SwiftUI func foo() async -&gt; URL { URL(fileURLWithPath: "/") // 戻り値が String 等では問題なし } struct ContentView: View { var body: some View { Button("Press Me") { Task { _ = await foo() } } } }</code> スタックトレース: <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">Thread 4 Crashed:: Dispatch queue: com.apple.root.user-initiated-qos.cooperative 0 libsystem_kernel.dylib 0x1cba39e60 __pthread_kill + 8 1 libsystem_pthread.dylib 0x1cba8d3c0 pthread_kill + 256 2 libsystem_c.dylib 0x1801023f4 abort + 124 3 libswift_Concurrency.dylib 0x1cb9db604 swift::swift_Concurrency_fatalError(unsigned int, char const*, ...) + 12 4 libswift_Concurrency.dylib 0x1cb9dd350 swift_task_dealloc + 124 5 ContentView.1.preview-thunk.dylib 0x104a2b06c (1) await resume partial function for closure #1 in closure #1 in ContentView.__preview__body.getter + 80 (ContentView.swift:17) 6 ContentView.1.preview-thunk.dylib 0x104a2b5d9 (1) await resume partial function for thunk for @escaping @callee_guaranteed @Sendable @async () -&gt; (@out A) + 1 7 ContentView.1.preview-thunk.dylib 0x104a2b73d (1) await resume partial function for partial apply for thunk for @escaping @callee_guaranteed @Sendable @async () -&gt; (@out A) + 1 8 libswift_Concurrency.dylib 0x1cb9dced1 completeTaskWithClosure(swift::AsyncContext*, swift::SwiftError*) + 1</code></span> <span class="chatlog__edited-timestamp" title="Tuesday, 15 March 2022 15:02">(edited)</span></div>
      </div>
    </div>
  </div>
</div>