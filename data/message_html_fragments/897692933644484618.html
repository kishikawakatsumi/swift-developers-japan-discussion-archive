<div class="chatlog__message-group">
  <div id="chatlog__message-container-897692933644484618" class="chatlog__message-container" data-message-id="897692933644484618">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/293624673265123328/accd07acc220a18568ba46a6e9ede18a.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(17,128,106)" title="koher#9336" data-user-id="293624673265123328">koher</span> <a href="/channels/306995750418513920?category=main&amp;channel=swift-2&amp;message_id=897692933644484618"><span class="chatlog__timestamp"></span></a><a href="#chatlog__message-container-897692933644484618">10/13/2021 3:51 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">"Swift Concurrency チートシート" の Case 20 （ <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">MainActor</code> ）で <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">final class UserViewController: UIViewController { private let state: UserViewState ... override func viewDidAppear(_ animated: Bool) { super.viewDidAppear(animated) state.loadUser() } }</code> としてるの、ダメでは？これだと <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">loadUser</code> の非同期処理が終わるまで <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">viewDidAppear</code> を抜けられない・・・。 <a href="https://zenn.dev/koher/articles/swift-concurrency-cheatsheet#%F0%9F%92%BC-case-20-(mainactor)%3A-%E5%85%B1%E6%9C%89%E3%81%95%E3%82%8C%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%AE%E5%A4%89%E6%9B%B4%EF%BC%88%E3%83%A1%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89%E4%B8%8A%E3%81%A7%E3%81%AE%E5%87%A6%E7%90%86%EF%BC%89">https://zenn.dev/koher/articles/swift-concurrency-cheatsheet#%F0%9F%92%BC-case-20-(mainactor)%3A-%E5%85%B1%E6%9C%89%E3%81%95%E3%82%8C%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%AE%E5%A4%89%E6%9B%B4%EF%BC%88%E3%83%A1%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89%E4%B8%8A%E3%81%A7%E3%81%AE%E5%87%A6%E7%90%86%EF%BC%89</a></span></div>
        <div class="chatlog__embed">
          <div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div>
          <div class="chatlog__embed-content-container">
            <div class="chatlog__embed-content">
              <div class="chatlog__embed-text">
                <div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://zenn.dev/koher/articles/swift-concurrency-cheatsheet">
                    <div class="chatlog__markdown chatlog__markdown-preserve">Swift Concurrency チートシート</div>
                  </a></div>
              </div>
              <div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/UyWvRP4USeKHVnQDHO1EA_IAjJjcxtRMrZi_RVX9Stk/https/res.cloudinary.com/zenn/image/upload/s--9117n29_--/co_rgb%3A222%252Cg_south_west%252Cl_text%3Anotosansjp-medium.otf_37_bold%3AYuta%252520Koshizawa%252Cx_203%252Cy_98/c_fit%252Cco_rgb%3A222%252Cg_north_west%252Cl_text%3Anotosansjp-medium.otf_70_bold%3ASwift%252520Concurrency%252520%2525E3%252583%252581%2525E3%252583%2525BC%2525E3%252583%252588%2525E3%252582%2525B7%2525E3%252583%2525BC%2525E3%252583%252588%252Cw_1010%252Cx_90%252Cy_100/g_south_west%252Ch_90%252Cl_fetch%3AaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FPaDE0R2dMN2V6OXl2cTd4TENKSUxUSmxpQlpoMjFBR04teUNxa3FSUE5VTWc9czgwLWM%3D%252Cr_max%252Cw_90%252Cx_87%252Cy_72/v1627274783/default/og-base_z4sxah.png"> <img class="chatlog__embed-thumbnail" src="https://images-ext-1.discordapp.net/external/UyWvRP4USeKHVnQDHO1EA_IAjJjcxtRMrZi_RVX9Stk/https/res.cloudinary.com/zenn/image/upload/s--9117n29_--/co_rgb%3A222%252Cg_south_west%252Cl_text%3Anotosansjp-medium.otf_37_bold%3AYuta%252520Koshizawa%252Cx_203%252Cy_98/c_fit%252Cco_rgb%3A222%252Cg_north_west%252Cl_text%3Anotosansjp-medium.otf_70_bold%3ASwift%252520Concurrency%252520%2525E3%252583%252581%2525E3%252583%2525BC%2525E3%252583%252588%2525E3%252582%2525B7%2525E3%252583%2525BC%2525E3%252583%252588%252Cw_1010%252Cx_90%252Cy_100/g_south_west%252Ch_90%252Cl_fetch%3AaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FPaDE0R2dMN2V6OXl2cTd4TENKSUxUSmxpQlpoMjFBR04teUNxa3FSUE5VTWc9czgwLWM%3D%252Cr_max%252Cw_90%252Cx_87%252Cy_72/v1627274783/default/og-base_z4sxah.png" alt="Thumbnail" loading="lazy"> </a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>