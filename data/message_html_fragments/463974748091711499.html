<div class="chatlog__message-group">
  <div id="chatlog__message-container-463974748091711499" class="chatlog__message-container" data-message-id="463974748091711499">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/291092492043026432/bdca2c881c9852db088d073291b8a74f.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(241,196,15)" title="N.#0939" data-user-id="291092492043026432">N.</span> <a href="/channels/430242233468452865?category=main&amp;channel=swiftbot-sandbox&amp;message_id=463974748091711499"><span class="chatlog__timestamp" title="Wednesday, July 4, 2018 7:50 AM"></span></a><a href="#chatlog__message-container-463974748091711499">7/4/2018 7:50 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Sleep(2) では時間切れになってしまうようですね<img loading="lazy" class="chatlog__emoji " alt="😅" title="sweat_smile" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f605.svg">
            <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">import Foundation import PlaygroundSupport PlaygroundPage.current.needsIndefiniteExecution = true let group1 = DispatchGroup() func a(_ name: String) { group1.enter() print("Good night, \(name)..") sleep(2) print("Morning, \(name)!") group1.leave() } DispatchQueue.global().async { a("Anna") } DispatchQueue.global().async { a("Bob") } DispatchQueue.global().async { a("Cony") } group1.notify(queue: .main) { print("*** Good morning, all! ***") PlaygroundPage.current.finishExecution() } // Xcode 9.4.1 と 10.0 beta2 どちらも同じ結果でした /* Playground Settings - Platform: macOS Good night, Cony.. Good night, Anna.. Good night, Bob.. Morning, Cony! Morning, Bob! Morning, Anna! *** Good morning, all! *** */ /* Playground Settings - Platform: iOS Good night, Anna.. Good night, Cony.. Good night, Bob.. *** Good morning, all! *** */</code> 上記のコードを Playgroundで実行すると、Platformによって実行結果が変わってしまいます。macOSにすると望む結果になるんですけど、iOSだと待ち合わせしてくれないのです。</span> <span class="chatlog__edited-timestamp" title="Wednesday, July 4, 2018 7:55 AM">(edited)</span></div>
      </div>
    </div>
  </div>
</div>