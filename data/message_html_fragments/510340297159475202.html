<div class="chatlog__message-group">
  <div id="chatlog__message-container-510337736759181324" class="chatlog__message-container " data-message-id="510337736759181324">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/489399598264221696/933a590ef660a92d2d8c6a329f4dbd71.png?size=512" alt="Avatar" loading="lazy">
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header">
          <span class="chatlog__author" style="" title="tera_NY#4222" data-user-id="489399598264221696">paruru</span>
          <span class="chatlog__timestamp">09-Nov-18 06:19 AM</span>
        </div>
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">実際に私が制作しているアプリの中で実装している機能の一つで、 アルバムから画像を取得 ↓ UIScrollView上でResize ↓ UIScrollViewと同じ位置に配置した透明のUIViewから新たにUIImageを生成 ↓ UIImageをサーバー側に送信 という流れで実装していたのですが、</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-510338389061664768" class="chatlog__message-container " data-message-id="510338389061664768">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="09-Nov-18 06:22 AM">06:22</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">UIScrollView上でResizeまではメモリも20MB程度で抑えられていたのですが、変換した際に40MBまで上昇し、サーバーに送信してもなおメモリは40MBにとどまってます</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-510338617651101706" class="chatlog__message-container " data-message-id="510338617651101706">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="09-Nov-18 06:23 AM">06:23</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">ちなみにアルバムから画像を取得したりPostする際に使用したViewControllerは解放できてます。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-510340297159475202" class="chatlog__message-container " data-message-id="510340297159475202">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="09-Nov-18 06:30 AM">06:30</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">
            <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight"> class ViewController: UIViewController { var hogehoge: UIView = UIView() func piyopiyo() { NotificationCenter.default.post(.hoge, object: hogehoge.snapshotImage()) self.dismiss(animated: true, completion: nil) } } extension UIView { func snapshotImage() -&gt; UIImage? { UIGraphicsBeginImageContextWithOptions(bounds.size, false, 0) guard let currentContext = UIGraphicsGetCurrentContext() else { UIGraphicsEndImageContext() return nil } layer.renderInContext(currentContext) let image = UIGraphicsGetImageFromCurrentImageContext() UIGraphicsEndImageContext() return image } } </div>
          </span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-510340388360421377" class="chatlog__message-container " data-message-id="510340388360421377">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="09-Nov-18 06:30 AM">06:30</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">大まかに実装の流れを書いてみました</span>
        </div>
      </div>
    </div>
  </div>
</div>