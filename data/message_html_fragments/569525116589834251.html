<div class="chatlog__message-group">
  <div id="chatlog__message-container-569520021034762256" class="chatlog__message-container" data-message-id="569520021034762256">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/291075091025100810/39d60f97ea2bca395f1992c42f25107c.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(155,89,182)" title="kishikawakatsumi" data-user-id="291075091025100810">Kishikawa Katsumi</span> <a href="/channels/472019265369669634?category=main&amp;channel=swiftc&amp;message_id=569527187900858379"><span class="chatlog__timestamp"></span></a><a href="#chatlog__message-container-569520021034762256">04/21/2019 1:49 PM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="kateinoigakukun">@kateinoigakukun</span> ï¼‘å¹´å‰ã‚’æ€ã„å‡ºã—ãªãŒã‚‰SwiftPowerAssertã‹ã‚‰<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">-dump-ast</code>ã®Parserã®éƒ¨åˆ†ã‚’ç‹¬ç«‹ã•ã›ã¦ã€ç¾è¡Œã®ç’°å¢ƒã§å‹•ãã‚ˆã†ã«ã—ã¾ã—ãŸã€‚ã‚ˆã‹ã£ãŸã‚‰å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚ <a href="https://github.com/kishikawakatsumi/SwiftAST">https://github.com/kishikawakatsumi/SwiftAST</a> ä½¿ã„æ–¹ã¯ <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">swift-ast parse [FILE_PATH_TO_PARSE] -buildCommand [BUILD_COMMAND_TO_BUILD_THE_PROJECT]</code> ä¾‹ãˆã° <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">path/to/swift-ast parse "./Framework/Sources/SpreadsheetView.swift" -buildCommand xcodebuild -scheme SpreadsheetView</code> ã‚„ã€ <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">path/to/swift-ast parse ./Lib/KeychainAccess/Keychain.swift -buildCommand xcodebuild -scheme KeychainAccess -sdk iphonesimulator -destination "name=iPhone Xs,OS=12.2"</code> ã§ã™ã€‚ ä»¥ä¸‹ã€æ€ã„å‡ºã—ãŸã“ã¨ã‚’æ›¸ãã¾ã™ã€‚</span> <span class="chatlog__edited-timestamp" title="04/21/2019 1:49 PM">(edited)</span></div>
        <div class="chatlog__embed">
          <div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div>
          <div class="chatlog__embed-content-container">
            <div class="chatlog__embed-content">
              <div class="chatlog__embed-text">
                <div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/kishikawakatsumi/SwiftAST">
                    <div class="chatlog__markdown chatlog__markdown-preserve">kishikawakatsumi/SwiftAST</div>
                  </a></div>
                <div class="chatlog__embed-description">
                  <div class="chatlog__markdown chatlog__markdown-preserve">Experimental project for parsing an output that <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">swift -dump-ast</code> produces - kishikawakatsumi/SwiftAST</div>
                </div>
              </div>
              <div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-2.discordapp.net/external/Efjx42n3Kgv-92wTx1zUiHpY_-4QLaRCk4bPVM8i6aA/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/40610"> <img class="chatlog__embed-thumbnail" src="https://images-ext-2.discordapp.net/external/Efjx42n3Kgv-92wTx1zUiHpY_-4QLaRCk4bPVM8i6aA/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/40610" alt="Thumbnail" loading="lazy"> </a></div>
            </div>
          </div>
        </div>
        <div class="chatlog__reactions">
          <div class="chatlog__reaction" title="eyes"><img class="chatlog__emoji chatlog__emoji--small" alt="ğŸ‘€" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg" loading="lazy"> <span class="chatlog__reaction-count">1</span></div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-569521772085510149" class="chatlog__message-container" data-message-id="569521772085510149">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="04/21/2019 1:56 PM">13:56</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">-dump-ast</code>ã¯å…¨ã¦ã®å‹ãŒè§£æ±ºã—ã¦ã„ã‚‹ã®ã§åŸå‰‡ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæˆåŠŸã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç°¡å˜ãªï¼ˆä¾å­˜é–¢ä¿‚ãŒãªã„ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ãªã‚‰ç°¡å˜ã§ã™ãŒã€ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‚ç…§ã—ã¦ã„ã‚‹å ´åˆã¯åŒã˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´åˆã¯ãã‚Œã‚’ä¸€ç·’ã«æ¸¡ã™ã€åˆ¥ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å ´åˆã¯ãã‚Œã‚’å…ˆã«ãƒ“ãƒ«ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ãªã®ã§ã€æ™‚é–“ã¯ä½™è¨ˆã«ã‹ã‹ã‚‹ã®ã§ã™ãŒã€ <a href="https://github.com/kishikawakatsumi/SwiftAST/blob/master/Sources/SwiftAST/XcodebuildTool.swift#L37-L42">https://github.com/kishikawakatsumi/SwiftAST/blob/master/Sources/SwiftAST/XcodebuildTool.swift#L37-L42</a> ã®ã‚ˆã†ã« <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">swift -dump-ast</code> ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«ã¾ãšãƒ“ãƒ«ãƒ‰ã—ã¦ã„ã¾ã™ã€‚ ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒèµ·ã“ã‚‹çŠ¶æ…‹ã§ <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">swift -dump-ast</code> ã‚’å®Ÿè¡Œã—ãŸå ´åˆã€å˜ã«å¤±æ•—ã™ã‚‹ã‹ä¸å®Œå…¨ãªASTãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚ <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">swift -dump-ast</code> ã®å‡ºåŠ›è‡ªä½“ãŒè¬ã§ã‚ã‚‹ã®ã«ã•ã‚‰ã«ä¸å®Œå…¨ãªASTã‚’ç›¸æ‰‹ã«ã™ã‚‹ã®ã¯ç„¡ç†ãªã®ã§ã€æœ€åˆã®ã‚­ãƒ¢ã¯ç¢ºå®Ÿã«ãƒ“ãƒ«ãƒ‰ã§ãã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’çµ„ã¿ç«‹ã¦ã‚‹ã“ã¨ã§ã™ã€‚</span> <span class="chatlog__edited-timestamp" title="04/21/2019 1:58 PM">(edited)</span></div>
        <div class="chatlog__embed">
          <div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div>
          <div class="chatlog__embed-content-container">
            <div class="chatlog__embed-content">
              <div class="chatlog__embed-text">
                <div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/kishikawakatsumi/SwiftAST/blob/master/Sources/SwiftAST/XcodebuildTool.swift">
                    <div class="chatlog__markdown chatlog__markdown-preserve">kishikawakatsumi/SwiftAST</div>
                  </a></div>
                <div class="chatlog__embed-description">
                  <div class="chatlog__markdown chatlog__markdown-preserve">Experimental project for parsing an output that <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">swift -dump-ast</code> produces - kishikawakatsumi/SwiftAST</div>
                </div>
              </div>
              <div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-2.discordapp.net/external/Efjx42n3Kgv-92wTx1zUiHpY_-4QLaRCk4bPVM8i6aA/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/40610"> <img class="chatlog__embed-thumbnail" src="https://images-ext-2.discordapp.net/external/Efjx42n3Kgv-92wTx1zUiHpY_-4QLaRCk4bPVM8i6aA/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/40610" alt="Thumbnail" loading="lazy"> </a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-569523165517053972" class="chatlog__message-container" data-message-id="569523165517053972">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="04/21/2019 2:01 PM">14:01</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">æœ€åˆã®ãƒãƒ¼ãƒ‰ãƒ«ã‚’è¶…ãˆãŸã‚‰ã€å®Œå…¨ãªASTã®ãƒ†ã‚­ã‚¹ãƒˆãŒæ‰‹ã«å…¥ã‚‹ã®ã§ã€ãã‚Œã‚’èª­ã‚“ã§ã„ãã ã‘ã§ã™ã€‚ é›£ã—ã„ã®ã¯ <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">constructor_decl</code> ã‚„ <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">brace_stmt</code> <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">assign_expr</code> ã¨ã„ã£ãŸãƒãƒ¼ãƒ‰ã®ç¨®é¡ãŒã‚ˆãã‚ã‹ã‚‰ãªã„ã“ã¨ã¨ã€ãã‚Œãã‚ŒãŒã©ã†ã„ã†å±æ€§ã‚’æŒã£ã¦ã„ã‚‹ã‹ãŒå½“ç„¶Undocumentedã§ã‚ˆãã‚ã‹ã‚‰ãªã„ã¨ã“ã‚ã§ã€Parseè‡ªä½“ã¯ãã‚Œã»ã©é›£ã—ããªã„ã¯ãšï¼ˆç›®çš„ã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒï¼‰ã§ã™ã€‚</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-569524049605034019" class="chatlog__message-container" data-message-id="569524049605034019">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="04/21/2019 2:05 PM">14:05</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><a href="https://github.com/kishikawakatsumi/SwiftAST/blob/master/Sources/SwiftASTCore/SwiftAST.swift#L39-L46">https://github.com/kishikawakatsumi/SwiftAST/blob/master/Sources/SwiftASTCore/SwiftAST.swift#L39-L46</a> ^ ã‚’è¦‹ã‚‹ã¨ç§ãŒã©ã®ã‚ˆã†ã«ã‚„ã£ãŸã‹ãŒã‚ã‹ã‚Šã¾ã™ã€‚ <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">private func process(sourceFile: URL, verbose: Bool = false) throws -&gt; AST { let arguments = buildArguments(source: sourceFile) let rawAST = try dumpAST(arguments: arguments) let tokens = tokenize(rawAST: rawAST) let node = lex(tokens: tokens) let root = parse(node: node) return root }</code>
            <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">dumpAST(arguments:)</code>ã¯<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">swift -dump-ast</code>ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ å¾—ã‚‰ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">tokenize(rawAST:)</code>ã§ãƒˆãƒ¼ã‚¯ãƒ³ã«åˆ†å‰²ã—ã¦ã€<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">lex(tokens:)</code>ã§ãƒ„ãƒªãƒ¼æ§‹é€ ã‚’ä½œã‚Šã¾ã™ã€‚ æœ€å¾Œã«<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">parse(node:)</code> ã§ãƒ„ãƒªãƒ¼æ§‹é€ ã®ãƒ‡ãƒ¼ã‚¿ã«æ„å‘³ã‚’æŒãŸã›ã¾ã™ã€‚</span></div>
        <div class="chatlog__embed">
          <div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div>
          <div class="chatlog__embed-content-container">
            <div class="chatlog__embed-content">
              <div class="chatlog__embed-text">
                <div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/kishikawakatsumi/SwiftAST/blob/master/Sources/SwiftASTCore/SwiftAST.swift">
                    <div class="chatlog__markdown chatlog__markdown-preserve">kishikawakatsumi/SwiftAST</div>
                  </a></div>
                <div class="chatlog__embed-description">
                  <div class="chatlog__markdown chatlog__markdown-preserve">Experimental project for parsing an output that <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">swift -dump-ast</code> produces - kishikawakatsumi/SwiftAST</div>
                </div>
              </div>
              <div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-2.discordapp.net/external/Efjx42n3Kgv-92wTx1zUiHpY_-4QLaRCk4bPVM8i6aA/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/40610"> <img class="chatlog__embed-thumbnail" src="https://images-ext-2.discordapp.net/external/Efjx42n3Kgv-92wTx1zUiHpY_-4QLaRCk4bPVM8i6aA/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/40610" alt="Thumbnail" loading="lazy"> </a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-569525116589834251" class="chatlog__message-container" data-message-id="569525116589834251">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="04/21/2019 2:09 PM">14:09</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">-dump-ast</code>ã®å‡ºåŠ›ã¯Så¼ã®ã‚ˆã†ã«è¦‹ãˆã‚‹ã®ã§ã‚«ãƒƒã‚³ã‚’é ¼ã‚Šã«ã—ãŸããªã‚Šã¾ã™ãŒã€åˆ¥ã®æ„å‘³ã®ã‚«ãƒƒã‚³ãŒæ™®é€šã«ï¼ˆ<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">"</code>ã‚„<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">'</code>ã«å›²ã¾ã‚Œã‚‹ã“ã¨ãªãï¼‰å‡ºã¦ãã‚‹ã®ã§ãã‚Œã¯é›£ã—ã„ã§ã™ã€‚ ä»£ã‚ã‚Šã«è¡Œã¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’ä½¿ã„ã¾ã™ã€‚</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-569525791252283412" class="chatlog__message-container" data-message-id="569525791252283412">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="04/21/2019 2:12 PM">14:12</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">func tokenize(source: String) -&gt; [ASTToken] { var lines = [String]() for line in source.split(separator: "\n", omittingEmptySubsequences: false) { let trimmed = line.trimmingCharacters(in: .whitespaces) if trimmed.hasPrefix("(inherited_conformance") || trimmed.hasPrefix("(normal_conformance") || trimmed.hasPrefix("(abstract_conformance") || trimmed.hasPrefix("(specialized_conformance") || trimmed.hasPrefix("(assoc_type") || trimmed.hasPrefix("(value req") || !trimmed.hasPrefix("(") { continue } lines.append(String(line)) } ...</code>
            <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">-dump-ast</code>ã®å‡ºåŠ›ã‚’ã¾ãšè¡Œã”ã¨ã«åˆ†å‰²ã—ã¾ã™ã€‚ã“ã®ã¨ãã€ã„ãã¤ã‹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒã‚¤ã‚ºã«ãªã‚‹è¡Œï¼ˆå®Ÿè¡Œã‚³ãƒ¼ãƒ‰ã«ã¯é–¢ä¿‚ãªãè¦‹ãˆã‚‹ä¸Šã«ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆãŒãŠã‹ã—ã„ï¼‰ãŒç™ºè¦‹ã•ã‚ŒãŸã®ã§ãã‚Œã‚’å–ã‚Šé™¤ã„ã¦ã„ã¾ã™ã€‚</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-569527187900858379" class="chatlog__message-container" data-message-id="569527187900858379">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="04/21/2019 2:17 PM">14:17</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">ãã®ã‚ã¨ã€ï¼‘è¡Œã”ã¨ã«ï¼‘æ–‡å­—ãšã¤Iterateã—ãªãŒã‚‰ãƒˆãƒ¼ã‚¯ãƒ³ã«åˆ†å‰²ã—ã¦ã„ãã¾ã™ã€‚ ç§ã®å ´åˆã¯<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">indent</code>ï¼ˆå…ˆé ­ã®ç©ºç™½ï¼‰ã€<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">symbol</code>ï¼ˆã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚ªãƒ¼ãƒˆã§å›²ã¾ã‚ŒãŸæ–‡å­—åˆ—ï¼‰ã€<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">string</code>ï¼ˆãƒ€ãƒ–ãƒ«ã‚¯ã‚ªãƒ¼ãƒˆã§å›²ã¾ã‚ŒãŸæ–‡å­—åˆ—ï¼‰ã€<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">token</code>ï¼ˆãã‚Œä»¥å¤–ã®æ–‡å­—åˆ—ã‚„è¨˜å·ï¼‰ã«åˆ†é¡ã—ã¾ã—ãŸã€‚ <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">class ASTToken { enum TokenType { case token case symbol case string case indent(Int) }</code></span></div>
      </div>
    </div>
  </div>
</div>