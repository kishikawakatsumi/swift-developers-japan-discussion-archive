<div class="chatlog__message-group">
  <div id="chatlog__message-container-752410845480484865" class="chatlog__message-container" data-message-id="752410845480484865">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(237,171,161)" title="omochimetaru" data-user-id="189711109966659584">omochimetaru</span> <a href="/channels/291054454793306112?category=main&amp;channel=swift&amp;message_id=752411541273313290"><span class="chatlog__timestamp"></span></a><a href="#chatlog__message-container-752410845480484865">09/07/2020 6:12 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">それ最近全く同じ事やったな</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-752411012329766953" class="chatlog__message-container" data-message-id="752411012329766953">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="09/07/2020 6:12 AM">06:12</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">struct ErrorProperties&lt;T&gt; { typealias ErrorsGetter = (T) -&gt; [ValidationError] var getters: [ErrorsGetter] = [] init(of type: T.Type, configure: (inout ErrorProperties&lt;T&gt;) -&gt; Void) { _ = type configure(&amp;self) } mutating func add&lt;X&gt;(_ keyPath: KeyPath&lt;T, Validator&lt;X&gt;&gt;) { getters.append({ (target) in target[keyPath: keyPath].errors }) } mutating func add(_ keyPath: KeyPath&lt;T, [ValidationError]&gt;) { getters.append({ (target) in target[keyPath: keyPath] }) } func errors(of target: T) -&gt; [ValidationError] { getters.flatMap { (getter) in getter(target) } } }</code></span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-752411158509519008" class="chatlog__message-container" data-message-id="752411158509519008">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="09/07/2020 6:13 AM">06:13</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Optionalじゃなくて配列だったけど <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift"> struct Props: Encodable { var name: String = "" var nameErrors: [ValidationError] = [] var email: String = "" var emailErrors: [ValidationError] = [] var password: String = "" var passwordErrors: [ValidationError] = [] var passwordHints: [ValidationError] = [] var passwordConfirm: String = "" var passwordConfirmErrors: [ValidationError] = [] static let errorProperties = ErrorProperties(of: Self.self) { (c) in c.add(\.nameErrors) c.add(\.emailErrors) c.add(\.passwordErrors) c.add(\.passwordConfirmErrors) } var validationErrors: [ValidationError] { Self.errorProperties.errors(of: self) } }</code></span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-752411261068902471" class="chatlog__message-container" data-message-id="752411261068902471">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="09/07/2020 6:13 AM">06:13</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">この実装だと取りこぼすリスクはあるけど。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-752411541273313290" class="chatlog__message-container" data-message-id="752411541273313290">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="09/07/2020 6:14 AM">06:14</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">型のメタデータを自分で定義してることに相当すると思う。 <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">static let errorProeprties</code> だし。</span></div>
      </div>
    </div>
  </div>
</div>