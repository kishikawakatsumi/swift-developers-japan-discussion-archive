<div class="chatlog__message-group">
  <div id="chatlog__message-container-862715986452545536" class="chatlog__message-container" data-message-id="862715986452545536">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/guilds/291054398077927425/users/296270044306997259/avatars/b3c8f38318e72e64f46b20f15336336a.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(241,196,15)" title="d_date" data-user-id="296270044306997259">d_date</span> <a href="/channels/430242233468452865?category=main&amp;channel=swiftbot-sandbox&amp;message_id=862715986452545536"><span class="chatlog__timestamp" title="Thursday, July 8, 2021 3:25 PM"></span></a><a href="#chatlog__message-container-862715986452545536">7/8/2021 3:25 PM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="swiftNightly#5501">@swift-main</span>
            <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">import Foundation struct LoggedInState {} struct LoggedOutState {} let date1 = Date() let date2 = Date() enum Permission: Equatable { case freeDuring(Range&lt;Date&gt;) case free case subscriberOnly } print(enumTag(Permission.freeDuring(date1 ..&lt; date2))) print(enumTag(Permission.free)) print(enumTag(Permission.subscriberOnly)) private func enumTag&lt;Case&gt;(_ `case`: Case) -&gt; UInt32? { let metadataPtr = unsafeBitCast( type(of: `case`), to: UnsafeRawPointer.self ) let kind = metadataPtr.load(as: Int.self) let isEnumOrOptional = kind == 0x201 || kind == 0x202 guard isEnumOrOptional else { return nil } let vwtPtr = (metadataPtr - MemoryLayout&lt;UnsafeRawPointer&gt;.size) .load(as: UnsafeRawPointer.self) let vwt = vwtPtr.load(as: EnumValueWitnessTable.self) return withUnsafePointer(to: `case`) { vwt.getEnumTag($0, metadataPtr) } } private struct EnumValueWitnessTable { let f1, f2, f3, f4, f5, f6, f7, f8: UnsafeRawPointer let f9, f10: Int let f11, f12: UInt32 let getEnumTag: @convention(c) (UnsafeRawPointer, UnsafeRawPointer) -&gt; UInt32 let f13, f14: UnsafeRawPointer }</code></span></div>
      </div>
    </div>
  </div>
</div>