<div class="chatlog__message-group">
  <div class="chatlog__author-avatar-container">
    <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=128" alt="Avatar" loading="lazy">
  </div>
  <div class="chatlog__messages">
    <span class="chatlog__author-name" title="omochimetaru#1122" data-user-id="189711109966659584" style="color: rgb(237,171,161)">omochimetaru</span>
    <a href="/channels/291054454793306112?category=main&amp;channel=swift&amp;message_id=944065485736149043"><span class="chatlog__timestamp">18-Feb-22 02:54 AM</span></a>
    <div class="chatlog__message " data-message-id="944064188886708285" id="message-944064188886708285" title="Message sent: 18-Feb-22 02:54 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline language-swift">protocol Costume { func withBells() -&gt; Self func hasSameAdornments(as other: Self) -&gt; Bool } func hasBells&lt;C: Costume&gt;(_ costume: Costume) -&gt; Bool { return costume.hasSameAdornments(as: costume.withBells()) }</div>
          </span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="944064279848579122" id="message-944064279848579122" title="Message sent: 18-Feb-22 02:54 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline language-swift">func checkFinaleReadiness(costumes: [any Costume]) -&gt; Bool { for costume in costumes { if !hasBells(costume) { // okay with this proposal: C is bound to the type stored inside the 'any' box, known only at runtime return false } } return true }</div> ↑これができるようになる
          </span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="944064757089067058" id="message-944064757089067058" title="Message sent: 18-Feb-22 02:56 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline language-swift">func checkFinaleReadinessOpenCoded(costumes: [any Costume]) -&gt; Bool { for costume: some Costume in costumes { // implicit generic parameter binds to underlying type of each costume let costumeWithBells = costume.withBells() // returned type is the same 'some Costume' as 'costume' if !costume.hasSameAdornments(costumeWithBells) { // okay, 'costume' and 'costumeWithBells' have the same type return false } } return true }</div> ↑これもできるようにするって書いてあるのかな・・・？
          </span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="944064955538362428" id="message-944064955538362428" title="Message sent: 18-Feb-22 02:57 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace"><span class="pre pre--inline">any P</span> に対して <span class="pre pre--inline">Self</span> を返すメソッドを呼び出すと、 <span class="pre pre--inline">some P</span> として返ってくる</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="944065485736149043" id="message-944065485736149043" title="Message sent: 18-Feb-22 02:59 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline language-swift">func cannotOpen1&lt;T: P&gt;(_ array: [T]) { .. } func cannotOpen2&lt;T: P&gt;(_ a: T, _ b: T) { ... } func cannotOpen3&lt;T: P&gt;(_ values: T...) { ... } struct X&lt;T&gt; { } func cannotOpen4&lt;T: P&gt;(_ x: X&lt;T&gt;) { } func cannotOpen5&lt;T: P&gt;(_ x: T, _ a: T.A) { } func cannotOpen6&lt;T: P&gt;(_ x: T?) { } func testCannotOpenMultiple(array: [any P], p1: any P, p2: any P, xp: X&lt;any P&gt;, pOpt: (any P)?) { cannotOpen1(array) // each element in the array can have a different underlying type, so we cannot open cannotOpen2(p1, p2) // p1 and p2 can have different underlying types, so there is no consistent binding for 'T' cannotOpen3(p1, p2) // similar to the case above, p1 and p2 have different types, so we cannot open them cannotOpen4(xp) // cannot open the existential in 'X&lt;any P&gt;' there isn't a specific value there. cannotOpen5(p1, p2.getA()) // cannot open either argument because 'T' is used in both parameters cannotOpen6(pOpt) // cannot open the existential in '(any P)?' because it might be nil, so there would not be an underlying type }</div> ↑ structural position だと <span class="pre pre--inline">P</span> のオブジェクトの数が動的になるから open できない
          </span>
        </div>
      </div>
    </div>
  </div>
</div>