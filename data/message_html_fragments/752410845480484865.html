<div class="chatlog__message-group">
  <div class="chatlog__author-avatar-container">
    <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=128" alt="Avatar" loading="lazy">
  </div>
  <div class="chatlog__messages">
    <span class="chatlog__author-name" title="omochimetaru#1122" data-user-id="189711109966659584" style="color: rgb(237,171,161)">omochimetaru</span>
    <a href="/channels/291054454793306112?category=main&amp;channel=swift&amp;message_id=752411541273313290"><span class="chatlog__timestamp">07-Sep-20 06:12 AM</span></a>
    <div class="chatlog__message " data-message-id="752410845480484865" id="message-752410845480484865" title="Message sent: 07-Sep-20 06:12 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">それ最近全く同じ事やったな</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="752411012329766953" id="message-752411012329766953" title="Message sent: 07-Sep-20 06:12 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline language-swift">struct ErrorProperties&lt;T&gt; { typealias ErrorsGetter = (T) -&gt; [ValidationError] var getters: [ErrorsGetter] = [] init(of type: T.Type, configure: (inout ErrorProperties&lt;T&gt;) -&gt; Void) { _ = type configure(&amp;self) } mutating func add&lt;X&gt;(_ keyPath: KeyPath&lt;T, Validator&lt;X&gt;&gt;) { getters.append({ (target) in target[keyPath: keyPath].errors }) } mutating func add(_ keyPath: KeyPath&lt;T, [ValidationError]&gt;) { getters.append({ (target) in target[keyPath: keyPath] }) } func errors(of target: T) -&gt; [ValidationError] { getters.flatMap { (getter) in getter(target) } } }</div>
          </span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="752411158509519008" id="message-752411158509519008" title="Message sent: 07-Sep-20 06:13 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">Optionalじゃなくて配列だったけど <div class="pre pre--multiline language-swift"> struct Props: Encodable { var name: String = "" var nameErrors: [ValidationError] = [] var email: String = "" var emailErrors: [ValidationError] = [] var password: String = "" var passwordErrors: [ValidationError] = [] var passwordHints: [ValidationError] = [] var passwordConfirm: String = "" var passwordConfirmErrors: [ValidationError] = [] static let errorProperties = ErrorProperties(of: Self.self) { (c) in c.add(\.nameErrors) c.add(\.emailErrors) c.add(\.passwordErrors) c.add(\.passwordConfirmErrors) } var validationErrors: [ValidationError] { Self.errorProperties.errors(of: self) } }</div></span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="752411261068902471" id="message-752411261068902471" title="Message sent: 07-Sep-20 06:13 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">この実装だと取りこぼすリスクはあるけど。</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="752411541273313290" id="message-752411541273313290" title="Message sent: 07-Sep-20 06:14 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">型のメタデータを自分で定義してることに相当すると思う。 <span class="pre pre--inline">static let errorProeprties</span> だし。</span>
        </div>
      </div>
    </div>
  </div>
</div>