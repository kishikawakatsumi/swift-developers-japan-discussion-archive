<div class="chatlog__message-group">
  <div id="chatlog__message-container-483812886079209497" class="chatlog__message-container " data-message-id="483812886079209497">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/293624673265123328/accd07acc220a18568ba46a6e9ede18a.png?size=512" alt="Avatar" loading="lazy">
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header">
          <span class="chatlog__author" style="color: rgb(17, 128, 106)" title="koher#9336" data-user-id="293624673265123328">koher</span>
          <span class="chatlog__timestamp">28-Aug-18 01:39 AM</span>
        </div>
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve"><span class="chatlog__markdown-pre chatlog__markdown-pre--inline">@dynamicMemberLookup</span> と <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">@dynamicCallable</span> に加えて、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">@dynamicConvertible</span> ほしくないですか？今だと <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">PythonObject</span> から Swift に戻すときに↓のようにしないといけなくて面倒。 <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">import Python let np = Python.import("numpy") let a = np.array([[1, 2], [3, 4]]) let b = np.array([[5], [6]]) let c = np.matmul(a, b) let d: Int = Int(c[0, 0])! // ここで明示的変換が必要 print(d)</div></span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-483813220998709261" class="chatlog__message-container " data-message-id="483813220998709261">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="28-Aug-18 01:41 AM">01:41</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">前提として Swift では暗黙の型変換は許さないという上で、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">@dynamic</span> 系は安全性を崩して書きやすさをとっているので、 dynamic に限って暗黙の型変換を許すのは良いバランスじゃないかということです。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-483813390033354762" class="chatlog__message-container " data-message-id="483813390033354762">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="28-Aug-18 01:41 AM">01:41</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">↓のように書きたい。 <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">import Python let np = Python.import("numpy") let a = np.array([[1, 2], [3, 4]]) let b = np.array([[5], [6]]) let c = np.matmul(a, b) let d: Int = c[0, 0] // 暗黙の型変換 print(d)</div></span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-483813482018635786" class="chatlog__message-container " data-message-id="483813482018635786">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="28-Aug-18 01:42 AM">01:42</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve"><span class="chatlog__markdown-pre chatlog__markdown-pre--inline">Int</span> を右に書くか左に書くかの違いに見えますが、引数に渡すときに意味があります。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-483813915575451661" class="chatlog__message-container " data-message-id="483813915575451661">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="28-Aug-18 01:43 AM">01:43</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">↓みたいな感じ。 <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">@dynamicMemberLookup @dynamicCallable @dynamicConvertible struct PythonObject { ... func converted() -&gt; Int { ... } func converted() -&gt; Bool { ... } func converted() -&gt; String { ... } func converted() -&gt; (PythonObject, PythobObject) { ... } ... }</div></span>
          <span class="chatlog__edited-timestamp" title="28-Aug-18 01:43 AM">(edited)</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-483814155762270220" class="chatlog__message-container " data-message-id="483814155762270220">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="28-Aug-18 01:44 AM">01:44</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">今は <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">Int</span> や <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">Bool</span> 等については <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">extension</span> の <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">init</span> になってるけど、タプルは <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">extension</span> 作れないので <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">PythonObject</span> に <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">tuple2</span> とかのメソッドが生えてて統一感もない。</span>
        </div>
      </div>
    </div>
  </div>
</div>