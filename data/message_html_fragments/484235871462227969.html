<div class="chatlog__message-group">
  <div class="chatlog__author-avatar-container">
    <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/294103726682144768/d482affc03b3c8a4059b69fcd08ebb70.png?size=128" alt="Avatar" loading="lazy">
  </div>
  <div class="chatlog__messages">
    <span class="chatlog__author-name" title="ikesyo#7254" data-user-id="294103726682144768" style="color: rgb(241,196,15)">ikesyo</span>
    <a href="/channels/319688664240357376?category=main&amp;channel=other-lang&amp;message_id=484236367493201932"><span class="chatlog__timestamp">29-Aug-18 05:40 AM</span></a>
    <div class="chatlog__message " data-message-id="484235871462227969" id="message-484235871462227969" title="Message sent: 29-Aug-18 05:40 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="quote">
              <div class="quote-border"></div>
              <div class="quote-content">handle とスコープについては、 Go の defer はスコープ関係なく関数単位だったはずだから、 handle はどうなんだろう？とさっきから思ってる。 </div>
            </div><a href="https://go.googlesource.com/proposal/+/master/design/go2draft-error-handling.md">https://go.googlesource.com/proposal/+/master/design/go2draft-error-handling.md</a> の <span class="pre pre--inline">Each check may have a different handler chain function depending on the scope in which it is defined. For example, consider this function:</span> がまさにそこに言及していそう <div class="pre pre--multiline nohighlight">func process(user string, files chan string) (n int, err error) { handle err { return 0, fmt.Errorf("process: %v", err) } // handler A for i := 0; i &lt; 3; i++ { handle err { err = fmt.Errorf("attempt %d: %v", i, err) } // handler B handle err { err = moreWrapping(err) } // handler C check do(something()) // check 1: handler chain C, B, A } check do(somethingElse()) // check 2: handler chain A }</div>
          </span>
          <span class="chatlog__edited-timestamp" title="29-Aug-18 05:41 AM">(edited)</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="484236367493201932" id="message-484236367493201932" title="Message sent: 29-Aug-18 05:42 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace"><span class="pre pre--inline">Check 1, inside the loop, runs handlers C, B, and A, in that order. Note that because handle is lexically scoped, the handlers defined in the loop body do not accumulate on each new iteration, in contrast to defer.</span></span>
        </div>
      </div>
    </div>
  </div>
</div>