<div class="chatlog__message-group">
  <div id="chatlog__message-container-894408127649308734" class="chatlog__message-container" data-message-id="894408127649308734">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/127674083331538944/4893b43ea9ee2231b8ffb8b05c305ce3.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(155,89,182)" title="norio_nomura#8334" data-user-id="127674083331538944">norio_nomura</span> <a href="/channels/430242233468452865?category=main&amp;channel=swiftbot-sandbox&amp;message_id=894410130899226655"><span class="chatlog__timestamp"></span></a><a href="#chatlog__message-container-894408127649308734">04-Oct-21 02:18 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Herokuから受け取った環境変数を標準入力として渡すshスクリプトでは、<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">exec env -i </code>で環境変数を消して、<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">sh</code>プロセスを<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">deno</code>プロセスへ置き換える形にしてる。 <code class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-sh">exec env -i PATH=${PATH} DENO_TLS_CA_STORE=system deno run ...</code></span> <span class="chatlog__edited-timestamp" title="04-Oct-21 02:39 AM">(edited)</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-894408987502592060" class="chatlog__message-container" data-message-id="894408987502592060">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="04-Oct-21 02:21 AM">02:21</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">これで procfs を経由したトークン取得の(知りうる範囲での)穴を塞げた。</span> <span class="chatlog__edited-timestamp" title="04-Oct-21 02:41 AM">(edited)</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-894410130899226655" class="chatlog__message-container" data-message-id="894410130899226655">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="04-Oct-21 02:26 AM">02:26</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">ここまで書けば、以前のきしかわさんのボットのハックとは関係無いだろう、という予想も より納得してもらえるかと。</span> <span class="chatlog__edited-timestamp" title="04-Oct-21 02:40 AM">(edited)</span></div>
      </div>
    </div>
  </div>
</div>