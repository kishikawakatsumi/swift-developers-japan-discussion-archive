<div class="chatlog__message-group">
  <div class="chatlog__author-avatar-container">
    <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=128" alt="Avatar" loading="lazy">
  </div>
  <div class="chatlog__messages">
    <span class="chatlog__author-name" title="omochimetaru#1122" data-user-id="189711109966659584" style="color: rgb(237,171,161)">omochimetaru</span>
    <span class="chatlog__timestamp">01-Feb-19 08:12 AM</span>
    <div class="chatlog__message " data-message-id="540806680351342592" id="message-540806680351342592" title="Message sent: 01-Feb-19 08:12 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">やっと読めた。</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540806692326211585" id="message-540806692326211585" title="Message sent: 01-Feb-19 08:12 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace"><a href="https://forums.swift.org/t/se-0241-explicit-encoded-offsets-for-string-indices/19929/36">https://forums.swift.org/t/se-0241-explicit-encoded-offsets-for-string-indices/19929/36</a></span>
        </div>
      </div>
      <div class="chatlog__embed">
        <div class="chatlog__embed-color-pill" style="background-color: rgba(255,255,255,255)"></div>
        <div class="chatlog__embed-content-container">
          <div class="chatlog__embed-content">
            <div class="chatlog__embed-text">
              <div class="chatlog__embed-title">
                <a class="chatlog__embed-title-link" href="https://forums.swift.org/t/se-0241-explicit-encoded-offsets-for-string-indices/19929/36">
                  <div class="markdown preserve-whitespace">SE-0241: Explicit Encoded Offsets for String Indices</div>
                </a>
              </div>
              <div class="chatlog__embed-description">
                <div class="markdown preserve-whitespace">The original proposal sought to solve 3 problems: SE-0180’s encodedOffset, meant for serialization purposes, needs to be parameterized over the encoding in which the string will be serialized in Existing uses of encodedOffset need a semantics-preserving off-ramp for Swift...</div>
              </div>
            </div>
            <div class="chatlog__embed-thumbnail-container">
              <a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/KWWj2gyUgz8HHvAg868d3QxJme6csCpXg4B-eVNXtRo/https/discourse-cdn-sjc1.com/swift/user_avatar/forums.swift.org/michael_ilseman/200/928_2.png">
                <img class="chatlog__embed-thumbnail" src="https://images-ext-1.discordapp.net/external/KWWj2gyUgz8HHvAg868d3QxJme6csCpXg4B-eVNXtRo/https/discourse-cdn-sjc1.com/swift/user_avatar/forums.swift.org/michael_ilseman/200/928_2.png" alt="Thumbnail" loading="lazy">
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540807070954553355" id="message-540807070954553355" title="Message sent: 01-Feb-19 08:14 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">コアチーム的に新しい事をSwift5.0に追加するにはおそすぎるけど、 内部がUTF-8になる事によって、元々のUTF-16のつもりでやってたやつを移行する(semantics-preserving)APIだけは緊急に必要で(urgent fixes)</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540807644600991756" id="message-540807644600991756" title="Message sent: 01-Feb-19 08:16 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">という話か。一つ前の&gt;&gt;35でも興味深い指摘がされてますね。</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540807841234026519" id="message-540807841234026519" title="Message sent: 01-Feb-19 08:17 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">元々正しい書き換えして出ていた、 <span class="pre pre--inline">string.utf16.index(string.startIndex, by: offset)</span> という書き方だと</span>
          <span class="chatlog__edited-timestamp" title="01-Feb-19 08:17 AM">(edited)</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540807968825016355" id="message-540807968825016355" title="Message sent: 01-Feb-19 08:17 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">もともとは <span class="pre pre--inline">String.Index(encodedOffset: offset)</span> でパラメータがoffsetだけだったのに対して</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540807989108539414" id="message-540807989108539414" title="Message sent: 01-Feb-19 08:17 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">対象のstringが必要になっちゃってる</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540808130280554506" id="message-540808130280554506" title="Message sent: 01-Feb-19 08:18 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">で、NSString系のNSRangeが返ってくる系のコールバックだと</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540808151453270026" id="message-540808151453270026" title="Message sent: 01-Feb-19 08:18 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline language-swift"> func processEdit(editedNSRange: NSRange, changeInLenght delta: Int) { let editedRange = Range&lt;String.Index&gt;(uncheckedBounds: ( String.Index(encodedOffset: editedNSRange.lowerBound), String.Index(encodedOffset: editedNSRange.upperBound) )) ...</div>
          </span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540808243207733249" id="message-540808243207733249" title="Message sent: 01-Feb-19 08:18 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">こういうふうに元々stringなしでNSRangeからRange&lt;String.Index&gt;に持っていけてたから</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540808273209589761" id="message-540808273209589761" title="Message sent: 01-Feb-19 08:19 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">この用途をカバーするAPIが必要なんですね。</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="540808524905578506" id="message-540808524905578506" title="Message sent: 01-Feb-19 08:20 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">あれ？修正提案でも <div class="pre pre--multiline language-swift"> public init&lt;S: StringProtocol&gt;(utf16Offset offset: Int, in s: S) {</div> こうなってるな。</span>
        </div>
      </div>
    </div>
  </div>
</div>