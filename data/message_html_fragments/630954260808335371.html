<div class="chatlog__message-group">
  <div id="chatlog__message-container-630953988329701407" class="chatlog__message-container" data-message-id="630953988329701407">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(237,171,161)" title="omochimetaru" data-user-id="189711109966659584">omochimetaru</span> <a href="/channels/291211035438874625?category=archived&amp;channel=beginner-help_archived&amp;message_id=630954882983002114"><span class="chatlog__timestamp" title="Tuesday, October 8, 2019 2:25 AM"></span></a><a href="#chatlog__message-container-630953988329701407">10/8/2019 2:25 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">あ、ひとつ発見しました</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-630954028196560937" class="chatlog__message-container" data-message-id="630954028196560937">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Tuesday, October 8, 2019 2:26 AM">2:26 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">concurrent queue + async(barrier)だと、</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-630954128067002368" class="chatlog__message-container" data-message-id="630954128067002368">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Tuesday, October 8, 2019 2:26 AM">2:26 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">async(barrier)の中身のタスクを実行するスレッドは、asyncを呼び出して投入したスレッドとは別になってますね</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-630954260808335371" class="chatlog__message-container" data-message-id="630954260808335371">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Tuesday, October 8, 2019 2:26 AM">2:26 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">つまり、asyncを呼び出した側はスレッドセーフな内部データ構造にタスクを登録してすぐに抜けていて</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-630954358376497154" class="chatlog__message-container" data-message-id="630954358376497154">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Tuesday, October 8, 2019 2:27 AM">2:27 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">asyncを処理する側は内部のスケジュールの後で同期を取ってほかを排他してから実行する、って挙動を必ず取るっぽい。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-630954493118382080" class="chatlog__message-container" data-message-id="630954493118382080">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Tuesday, October 8, 2019 2:27 AM">2:27 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">syncの場合はsyncを呼び出したスレッドでそのままロックして待って、スレッドは切り替わらないので、</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-630954526794317854" class="chatlog__message-container" data-message-id="630954526794317854">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Tuesday, October 8, 2019 2:28 AM">2:28 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">やっぱり仕組み上のオーバーヘッドの差がかなりありそうです。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-630954882983002114" class="chatlog__message-container" data-message-id="630954882983002114">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Tuesday, October 8, 2019 2:29 AM">2:29 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">concurrent+barrierでmulti-read/single-writeな構造を作るのが良いのはアプリとかで負荷のオーダーの見積もりが立つ場合だけじゃないすかねえ</span></div>
      </div>
    </div>
  </div>
</div>