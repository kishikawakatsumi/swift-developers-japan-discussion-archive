<div class="chatlog__message-group">
  <div id="chatlog__message-container-1169444989944737893" class="chatlog__message-container" data-message-id="1169444989944737893">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__reply-symbol"></div><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=512" alt="Avatar" loading="lazy">
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__reply"><img class="chatlog__reply-avatar" src="https://cdn.discordapp.com/avatars/310258733890535426/8fffd5befbc057dcd546b39b0259e66a.png?size=512" alt="Avatar" loading="lazy">
          <div class="chatlog__reply-author" title="iceman5499">Iceman</div>
          <div class="chatlog__reply-content"><span class="chatlog__reply-link" onclick="scrollToMessage(event,'1169444479820902542')"> with...Continuation系が特別に同期的に呼び出しされるのは知ってましたが、それって<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">@_unsafeInheritExecutor</code>つけることで実現されてたんですね </span></div>
        </div>
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(237,171,161)" title="omochimetaru" data-user-id="189711109966659584">omochimetaru</span> <a href="/channels/430242233468452865?category=main&amp;channel=swiftbot-sandbox&amp;message_id=1169450486005502013"><span class="chatlog__timestamp" title="Thursday, November 2, 2023 1:16 AM"></span></a><a href="#chatlog__message-container-1169444989944737893">11/2/2023 1:16 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">ですね。Swift部分も普通には実装できなそうで謎だったけど、これみたいですね</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169446474736742431" class="chatlog__message-container" data-message-id="1169446474736742431">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:22 AM">1:22 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/430242233468452865/1169446474522824784/2023-11-02_10.21.48.png?ex=68a1d7a6&amp;is=68a08626&amp;hm=243fd44d2a1643e33a1747d8f50f3666cf0295f5e96e9b165d963839f5ea7a8a&amp;"> <img class="chatlog__attachment-media" src="https://cdn.discordapp.com/attachments/430242233468452865/1169446474522824784/2023-11-02_10.21.48.png?ex=68a1d7a6&amp;is=68a08626&amp;hm=243fd44d2a1643e33a1747d8f50f3666cf0295f5e96e9b165d963839f5ea7a8a&amp;" alt="Image attachment" title="Image: 2023-11-02_10.21.48.png (135.22 KB)" loading="lazy"> </a></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169446615052992532" class="chatlog__message-container" data-message-id="1169446615052992532">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:23 AM">1:23 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">左: asyncを呼び出す時、呼び出し側で、「現在のexecutorを採取」して、呼び出し先のexecutorに入って、呼び出して、その後「採取したexecutorに戻る」</span> <span class="chatlog__edited-timestamp" title="Thursday, November 2, 2023 1:23 AM">(edited)</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169447195653714050" class="chatlog__message-container" data-message-id="1169447195653714050">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:25 AM">1:25 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">あーここは微妙だな</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169447292630220931" class="chatlog__message-container" data-message-id="1169447292630220931">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:26 AM">1:26 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/430242233468452865/1169447292403732530/2023-11-02_10.25.56.png?ex=68a1d869&amp;is=68a086e9&amp;hm=4a8291b1d96734b68f31e1101a3317301e1ddc17c482baea6c176a962d7c5d2b&amp;"> <img class="chatlog__attachment-media" src="https://cdn.discordapp.com/attachments/430242233468452865/1169447292403732530/2023-11-02_10.25.56.png?ex=68a1d869&amp;is=68a086e9&amp;hm=4a8291b1d96734b68f31e1101a3317301e1ddc17c482baea6c176a962d7c5d2b&amp;" alt="Image attachment" title="Image: 2023-11-02_10.25.56.png (370.58 KB)" loading="lazy"> </a></div>
        <div class="chatlog__reactions">
          <div class="chatlog__reaction" title="eyes"><img class="chatlog__emoji chatlog__emoji--small" alt="👀" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f440.svg" loading="lazy"> <span class="chatlog__reaction-count">1</span></div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169447321189224548" class="chatlog__message-container" data-message-id="1169447321189224548">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:26 AM">1:26 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">こっちのほうがいいかな</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169447517679792260" class="chatlog__message-container" data-message-id="1169447517679792260">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:26 AM">1:26 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">左: 現在のexecutorを採取、actor呼び出し、戻ったらexecutorを復旧 右: 関数冒頭で自身のexecutorに突入、actor呼び出しから戻ったら再入</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169447742037303376" class="chatlog__message-container" data-message-id="1169447742037303376">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:27 AM">1:27 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">冒頭で突入してるのが重要そう</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169447800233263184" class="chatlog__message-container" data-message-id="1169447800233263184">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:28 AM">1:28 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">callerがactorでcalleeがnonisolatedなケースが一番大事か</span></div>
        <div class="chatlog__reactions">
          <div class="chatlog__reaction" title="thumbsup"><img class="chatlog__emoji chatlog__emoji--small" alt="👍" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg" loading="lazy"> <span class="chatlog__reaction-count">1</span></div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169448350823743488" class="chatlog__message-container" data-message-id="1169448350823743488">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:30 AM">1:30 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">このパッチでは変わってない気がする これがfirst halfだからか？</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449056880316497" class="chatlog__message-container" data-message-id="1169449056880316497">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:33 AM">1:33 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/430242233468452865/1169449056670580746/2023-11-02_10.32.57.png?ex=68a1da0e&amp;is=68a0888e&amp;hm=6a28dccac5ca72d55418d4b94dfb77a936ef31658e0f880cd009be95a4cbd932&amp;"> <img class="chatlog__attachment-media" src="https://cdn.discordapp.com/attachments/430242233468452865/1169449056670580746/2023-11-02_10.32.57.png?ex=68a1da0e&amp;is=68a0888e&amp;hm=6a28dccac5ca72d55418d4b94dfb77a936ef31658e0f880cd009be95a4cbd932&amp;" alt="Image attachment" title="Image: 2023-11-02_10.32.57.png (262.72 KB)" loading="lazy"> </a></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449099393765497" class="chatlog__message-container" data-message-id="1169449099393765497">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:33 AM">1:33 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">いやわかった、そっちは昔から今まで変わってない</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449184764633138" class="chatlog__message-container" data-message-id="1169449184764633138">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:33 AM">1:33 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__attachment"><a href="https://cdn.discordapp.com/attachments/430242233468452865/1169449184521355314/2023-11-02_10.33.26.png?ex=68a1da2c&amp;is=68a088ac&amp;hm=629abbcae15034754cba40ff85a7e847d6153b645c56a9a66a5f8b66a99f3026&amp;"> <img class="chatlog__attachment-media" src="https://cdn.discordapp.com/attachments/430242233468452865/1169449184521355314/2023-11-02_10.33.26.png?ex=68a1da2c&amp;is=68a088ac&amp;hm=629abbcae15034754cba40ff85a7e847d6153b645c56a9a66a5f8b66a99f3026&amp;" alt="Image attachment" title="Image: 2023-11-02_10.33.26.png (525.96 KB)" loading="lazy"> </a></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449210823843840" class="chatlog__message-container" data-message-id="1169449210823843840">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:33 AM">1:33 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">これで説明ができる</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449253790302218" class="chatlog__message-container" data-message-id="1169449253790302218">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:33 AM">1:33 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">testAsyncFunction</code> が (nonisolatedな)<code class="chatlog__markdown-pre chatlog__markdown-pre--inline">callee</code> を呼ぶ流れを見ると</span> <span class="chatlog__edited-timestamp" title="Thursday, November 2, 2023 1:35 AM">(edited)</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449332240547910" class="chatlog__message-container" data-message-id="1169449332240547910">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:34 AM">1:34 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">左だと <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">hop_to_exector</code> が無い (CHECK-NOT) だから</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449543151132722" class="chatlog__message-container" data-message-id="1169449543151132722">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:34 AM">1:34 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">で、呼び出し側は MyActor に hop してから callee を呼ぶだけだから</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449594531364865" class="chatlog__message-container" data-message-id="1169449594531364865">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:35 AM">1:35 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">以前の挙動だと sticky な executor になってる</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449693030391911" class="chatlog__message-container" data-message-id="1169449693030391911">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:35 AM">1:35 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">右だと <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">callee</code> が内部で自分でグローバルアクターにhopするから</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169449731685105795" class="chatlog__message-container" data-message-id="1169449731685105795">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:35 AM">1:35 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">Actorを手放してる</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169450097763958806" class="chatlog__message-container" data-message-id="1169450097763958806">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:37 AM">1:37 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="kntk">@kntk</span> まあそういうわけでSE-0388もコンパイラプロジェクトではSwiftコードではテストしてないですね、SILですね</span></div>
        <div class="chatlog__reactions">
          <div class="chatlog__reaction" title="person_bowing"><img class="chatlog__emoji chatlog__emoji--small" alt="🙇" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f647.svg" loading="lazy"> <span class="chatlog__reaction-count">1</span></div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169450281260568617" class="chatlog__message-container" data-message-id="1169450281260568617">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:37 AM">1:37 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><a href="https://github.com/apple/swift/pull/41055">https://github.com/apple/swift/pull/41055</a></span></div>
        <div class="chatlog__embed">
          <div class="chatlog__embed-color-pill" style="background-color:rgba(30,35,39,255)"></div>
          <div class="chatlog__embed-content-container">
            <div class="chatlog__embed-content">
              <div class="chatlog__embed-text">
                <div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/apple/swift/pull/41055">
                    <div class="chatlog__markdown chatlog__markdown-preserve">[5.6] Hop to the generic executor in non-actor-isolated async funct...</div>
                  </a></div>
                <div class="chatlog__embed-description">
                  <div class="chatlog__markdown chatlog__markdown-preserve">Async functions are now expected to set ExpectedExecutor in their prologue (and, generally, immediately hop to it). I updated the prologue code for a bunch of function emission, most of which was ...</div>
                </div>
              </div>
              <div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-1.discordapp.net/external/d8GgAkFicvGQC5BurMLow3zwWSl03GTnU2qjxPzFSOg/https/opengraph.githubassets.com/1302de29444f41c0bd78d121455a3f292f394fcff16514d52e3244b69bab0e9a/apple/swift/pull/41055"> <img class="chatlog__embed-thumbnail" src="https://images-ext-1.discordapp.net/external/d8GgAkFicvGQC5BurMLow3zwWSl03GTnU2qjxPzFSOg/https/opengraph.githubassets.com/1302de29444f41c0bd78d121455a3f292f394fcff16514d52e3244b69bab0e9a/apple/swift/pull/41055" alt="Thumbnail" loading="lazy"> </a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169450340609970278" class="chatlog__message-container" data-message-id="1169450340609970278">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:38 AM">1:38 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">↑あともう一個見つけた、SE0388は5.6にも適用されてる</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1169450486005502013" class="chatlog__message-container" data-message-id="1169450486005502013">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Thursday, November 2, 2023 1:38 AM">1:38 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">なので 5.6.3 でテストするのは不適切かもしれない</span></div>
        <div class="chatlog__reactions">
          <div class="chatlog__reaction" title="thumbsup"><img class="chatlog__emoji chatlog__emoji--small" alt="👍" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg" loading="lazy"> <span class="chatlog__reaction-count">1</span></div>
        </div>
      </div>
    </div>
  </div>
</div>