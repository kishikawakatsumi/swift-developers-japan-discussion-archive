<div class="chatlog__message-group">
  <div class="chatlog__author-avatar-container">
    <img class="chatlog__author-avatar" src="https://cdn.discordapp.com/avatars/489399598264221696/933a590ef660a92d2d8c6a329f4dbd71.png?size=128" alt="Avatar" loading="lazy">
  </div>
  <div class="chatlog__messages">
    <span class="chatlog__author-name" title="tera_NY#4222" data-user-id="489399598264221696" style="">paruru</span>
    <span class="chatlog__timestamp">09-Nov-18 06:19 AM</span>
    <div class="chatlog__message " data-message-id="510337736759181324" id="message-510337736759181324" title="Message sent: 09-Nov-18 06:19 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">実際に私が制作しているアプリの中で実装している機能の一つで、 アルバムから画像を取得 ↓ UIScrollView上でResize ↓ UIScrollViewと同じ位置に配置した透明のUIViewから新たにUIImageを生成 ↓ UIImageをサーバー側に送信 という流れで実装していたのですが、</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="510338389061664768" id="message-510338389061664768" title="Message sent: 09-Nov-18 06:22 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">UIScrollView上でResizeまではメモリも20MB程度で抑えられていたのですが、変換した際に40MBまで上昇し、サーバーに送信してもなおメモリは40MBにとどまってます</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="510338617651101706" id="message-510338617651101706" title="Message sent: 09-Nov-18 06:23 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">ちなみにアルバムから画像を取得したりPostする際に使用したViewControllerは解放できてます。</span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="510340297159475202" id="message-510340297159475202" title="Message sent: 09-Nov-18 06:30 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">
            <div class="pre pre--multiline nohighlight"> class ViewController: UIViewController { var hogehoge: UIView = UIView() func piyopiyo() { NotificationCenter.default.post(.hoge, object: hogehoge.snapshotImage()) self.dismiss(animated: true, completion: nil) } } extension UIView { func snapshotImage() -&gt; UIImage? { UIGraphicsBeginImageContextWithOptions(bounds.size, false, 0) guard let currentContext = UIGraphicsGetCurrentContext() else { UIGraphicsEndImageContext() return nil } layer.renderInContext(currentContext) let image = UIGraphicsGetImageFromCurrentImageContext() UIGraphicsEndImageContext() return image } } </div>
          </span>
        </div>
      </div>
    </div>
    <div class="chatlog__message " data-message-id="510340388360421377" id="message-510340388360421377" title="Message sent: 09-Nov-18 06:30 AM">
      <div class="chatlog__content">
        <div class="markdown">
          <span class="preserve-whitespace">大まかに実装の流れを書いてみました</span>
        </div>
      </div>
    </div>
  </div>
</div>