<div class="chatlog__message-group">
  <div id="chatlog__message-container-1066948018298966086" class="chatlog__message-container" data-message-id="1066948018298966086">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/293624673265123328/accd07acc220a18568ba46a6e9ede18a.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(17,128,106)" title="koher#9336" data-user-id="293624673265123328">koher</span> <a href="/channels/306995750418513920?category=main&amp;channel=swift-2&amp;message_id=1066950135646527488"><span class="chatlog__timestamp"></span></a><a href="#chatlog__message-container-1066948018298966086">01/23/2023 5:10 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">kateiくんの発表で紹介されてたbenchmarkgamesのSwiftのコードを見てたら、↓が他より30倍以上遅いんだけど、何がそんなに悪いんだろう？コードの処理の中身までちゃんと追ってないから効率の悪い計算してるのかもしれないけど、そんなにヤバいことしてなさそうな。変にクラスとかも使ってないし、CoWのコピーも発動してなさそう。ジェネリクスの Specialize が効いてなかったりする？？ <a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/program/nbody-swift-9.html">https://benchmarksgame-team.pages.debian.net/benchmarksgame/program/nbody-swift-9.html</a></span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1066948077304414329" class="chatlog__message-container" data-message-id="1066948077304414329">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="01/23/2023 5:10 AM">05:10</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">SIMD4(repeating:)</code> を多用してるのは気になる。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1066948839073906769" class="chatlog__message-container" data-message-id="1066948839073906769">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="01/23/2023 5:13 AM">05:13</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">やってるのは N体のシミュレーションっぽい。太陽・木星・土星・天王星・海王星の運動をシミュレーションしてる。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1066948938579591188" class="chatlog__message-container" data-message-id="1066948938579591188">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="01/23/2023 5:14 AM">05:14</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">↓のコードは33倍速い。 <a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/program/nbody-swift-2.html">https://benchmarksgame-team.pages.debian.net/benchmarksgame/program/nbody-swift-2.html</a></span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1066949111967911997" class="chatlog__message-container" data-message-id="1066949111967911997">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="01/23/2023 5:14 AM">05:14</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">SIMDの使い方がよくないのかな・・・。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1066949242834386954" class="chatlog__message-container" data-message-id="1066949242834386954">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="01/23/2023 5:15 AM">05:15</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">あとは計算方法が普通に効率悪い可能性あるけど、それはちゃんと見比べないとわからないな。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1066949735300206693" class="chatlog__message-container" data-message-id="1066949735300206693">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="01/23/2023 5:17 AM">05:17</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">SIMD3</code> にして質量を別で扱うと速くなるかも。 <code class="chatlog__markdown-pre chatlog__markdown-pre--inline">SIMD4</code> にしてる利点がない気がする。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1066950017803374694" class="chatlog__message-container" data-message-id="1066950017803374694">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="01/23/2023 5:18 AM">05:18</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--inline">-Ounchecked</code> でコンパイルされてるみたいだから、普通に考えたら Specialize はされそう。</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-1066950135646527488" class="chatlog__message-container" data-message-id="1066950135646527488">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="01/23/2023 5:18 AM">05:18</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">swiftc nbody.swift-9.swift -Ounchecked -wmo -o nbody.swift-9.swift_run</code></span></div>
      </div>
    </div>
  </div>
</div>