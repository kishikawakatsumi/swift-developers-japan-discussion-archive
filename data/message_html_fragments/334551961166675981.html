<div class="chatlog__message-group">
  <div id="chatlog__message-container-334551584082231298" class="chatlog__message-container" data-message-id="334551584082231298">
    <div class="chatlog__message">
      <div class="chatlog__message-aside"><img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=512" alt="Avatar" loading="lazy"></div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header"><span class="chatlog__author" style="color:rgb(237,171,161)" title="omochimetaru" data-user-id="189711109966659584">omochimetaru</span> <a href="/channels/291054454793306112?category=main&amp;channel=swift&amp;message_id=334552796579758083"><span class="chatlog__timestamp" title="Wednesday, July 12, 2017 4:28 AM"></span></a><a href="#chatlog__message-container-334551584082231298">7/12/2017 4:28 AM</a></div>
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">おっ・・・</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334551607133863937" class="chatlog__message-container" data-message-id="334551607133863937">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:28 AM">4:28 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><a href="https://github.com/apple/swift/blob/master/docs/SIL.rst#id87">https://github.com/apple/swift/blob/master/docs/SIL.rst#id87</a></span></div>
        <div class="chatlog__embed">
          <div class="chatlog__embed-color-pill chatlog__embed-color-pill--default"></div>
          <div class="chatlog__embed-content-container">
            <div class="chatlog__embed-content">
              <div class="chatlog__embed-text">
                <div class="chatlog__embed-title"><a class="chatlog__embed-title-link" href="https://github.com/apple/swift/blob/master/docs/SIL.rst">
                    <div class="chatlog__markdown chatlog__markdown-preserve">apple/swift</div>
                  </a></div>
                <div class="chatlog__embed-description">
                  <div class="chatlog__markdown chatlog__markdown-preserve">swift - The Swift Programming Language</div>
                </div>
              </div>
              <div class="chatlog__embed-thumbnail-container"><a class="chatlog__embed-thumbnail-link" href="https://images-ext-2.discordapp.net/external/VOnFhjYy-bFHP1o_KoyE8uQvbO7kcR0FyqN9-h43aE4/%3Fv%3D3%26s%3D400/https/avatars0.githubusercontent.com/u/10639145"> <img class="chatlog__embed-thumbnail" src="https://images-ext-2.discordapp.net/external/VOnFhjYy-bFHP1o_KoyE8uQvbO7kcR0FyqN9-h43aE4/%3Fv%3D3%26s%3D400/https/avatars0.githubusercontent.com/u/10639145" alt="Thumbnail" loading="lazy"> </a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334551675635236867" class="chatlog__message-container" data-message-id="334551675635236867">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:28 AM">4:28 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">except that copy_addr may be used even if %0 is of an address-only type. The copy_addr may be given one or both of the [take] or [initialization] attributes: [take] destroys the value at the source address in the course of the copy. [initialization] indicates that the destination address is uninitialized. Without the attribute, the destination address is treated as already initialized, and the existing value will be destroyed before the new value is stored.</code></span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334551925230010369" class="chatlog__message-container" data-message-id="334551925230010369">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:29 AM">4:29 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">SIL命令copy_addr にオプションがつけられて、takeなら破壊、initializationなら初期化</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334551961166675981" class="chatlog__message-container" data-message-id="334551961166675981">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:30 AM">4:30 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><span class="chatlog__markdown-mention" title="norio_nomura">@norio_nomura</span> の貼ったSILコードを抜粋すると</span> <span class="chatlog__edited-timestamp" title="Wednesday, July 12, 2017 4:30 AM">(edited)</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334552054053863434" class="chatlog__message-container" data-message-id="334552054053863434">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:30 AM">4:30 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve"><code class="chatlog__markdown-pre chatlog__markdown-pre--multiline nohighlight">... copy_addr [take] %6 to [initialization] %3 : $*Self, loc "&lt;stdin&gt;":4:14, scope 3 // id: %8 ... copy_addr %3 to [initialization] %0 : $*Self, loc "&lt;stdin&gt;":5:5, scope 3 // id: %10 ...</code></span> <span class="chatlog__edited-timestamp" title="Wednesday, July 12, 2017 4:30 AM">(edited)</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334552227865952257" class="chatlog__message-container" data-message-id="334552227865952257">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:31 AM">4:31 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">%0はメソッドのレシーバ、%3はローカル変数のself、%6はf()の戻り値の格納先なので</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334552621077626880" class="chatlog__message-container" data-message-id="334552621077626880">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:32 AM">4:32 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">f()は完全なオブジェクトを返して、それを破壊しながらローカル変数のselfに初期化代入、つまりムーブ そのselfを、レシーバの真のselfに 初期化代入、そのあとdesstroy_addrで%3を破壊してるんで、ここはコピー</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334552754997690380" class="chatlog__message-container" data-message-id="334552754997690380">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:33 AM">4:33 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">結論として、allocはされてるけど、initはされてない形で全部回ってますね</span></div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-334552796579758083" class="chatlog__message-container" data-message-id="334552796579758083">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="Wednesday, July 12, 2017 4:33 AM">4:33 AM</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown"><span class="chatlog__markdown-preserve">ちゃんとコンパイラはわかっているっぽい</span></div>
      </div>
    </div>
  </div>
</div>