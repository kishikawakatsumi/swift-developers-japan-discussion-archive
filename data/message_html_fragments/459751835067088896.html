<div class="chatlog__message-group">
  <div id="chatlog__message-container-459751835067088896" class="chatlog__message-container " data-message-id="459751835067088896">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/295071934889197578/e5f514e062778796ac06288270411f75.png?size=512" alt="Avatar" loading="lazy">
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header">
          <span class="chatlog__author" style="" title="yyu#6765" data-user-id="295071934889197578">yyu</span>
          <a href="/channels/380329942505750529?category=コミュニティ&amp;channel=waiwai-swiftc&amp;message_id=459752890064699412"><span class="chatlog__timestamp">22-Jun-18 04:09 PM</span></a>
        </div>
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">別のことをしていてすっかり遅刻してしまいましたが、いちおうScalaを業務で書いているマンとしてちょっと<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">enum</span> vs <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">protocol</span> をやっていきたいと思います。 <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">protocol A {} class B: A{} class C: A{}</div> vs <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">enum A { case b(B) case c(C) }</div></span>
        </div>
        <div class="chatlog__reactions">
          <div class="chatlog__reaction" title="eyes">
            <img class="chatlog__emoji chatlog__emoji--small" alt="👀" src="https://twemoji.maxcdn.com/2/svg/1f440.svg" loading="lazy">
            <span class="chatlog__reaction-count">1</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-459752175728459796" class="chatlog__message-container " data-message-id="459752175728459796">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="22-Jun-18 04:11 PM">16:11</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">この2つですが、もしかして会場では答えでている可能性あって、そうしたら申し訳ないんですが、まさに上の方で議論されているようにSwiftには<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">seald</span>がないので、<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">protocol</span>を利用した上の例では、予想しないような実装（クラス・構造体）が作られる恐れがあり、またパターンマッチで網羅性を検査することができません。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-459752429882310686" class="chatlog__message-container " data-message-id="459752429882310686">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="22-Jun-18 04:12 PM">16:12</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">じゃあ、下の<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">enum</span>がいいのか、という議論になるかというとそうではなくて、（勘違いだったら申し訳ないんですが）Swiftの<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">enum</span>の各タグ（？、たとえば上記の例でいう<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">a</span>とか<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">b</span>）はたしか型パラメーターが取れないです。</span>
        </div>
        <div class="chatlog__reactions">
          <div class="chatlog__reaction" title="point_right">
            <img class="chatlog__emoji chatlog__emoji--small" alt="👉" src="https://twemoji.maxcdn.com/2/svg/1f449.svg" loading="lazy">
            <span class="chatlog__reaction-count">1</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-459752769839169536" class="chatlog__message-container " data-message-id="459752769839169536">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="22-Jun-18 04:13 PM">16:13</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">だから、たとえば型レベルリスト（HList）のようなデータ構造を作りたいときは、パターンマッチの網羅性を犠牲にしてでも前者の<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">protocol</span>をつかって次のようにやるしかない、といった感じになるんじゃないでしょうか。 <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">public protocol HList { } public struct HNil: HList { init() { } } public struct HCons&lt;H, T: HList&gt;: HList { public let head: H public let tail: T public init(_ h: H, _ t: T) { self.head = h self.tail = t } }</div></span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-459752890064699412" class="chatlog__message-container " data-message-id="459752890064699412">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="22-Jun-18 04:13 PM">16:13</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">この例ではタグ（？）として<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">HNil</span>と<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">HCons</span>がありますが、<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">HCons</span>が型パラを取るので、こうしています。</span>
        </div>
      </div>
    </div>
  </div>
</div>