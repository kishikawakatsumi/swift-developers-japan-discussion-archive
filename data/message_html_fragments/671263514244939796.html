<div class="chatlog__message-group">
  <div id="chatlog__message-container-671257406692524042" class="chatlog__message-container " data-message-id="671257406692524042">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <img class="chatlog__avatar" src="https://cdn.discordapp.com/avatars/189711109966659584/95280765d1be73ce985dce15ea3585f6.png?size=512" alt="Avatar" loading="lazy">
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__header">
          <span class="chatlog__author" style="color: rgb(237, 171, 161)" title="omochimetaru#1122" data-user-id="189711109966659584">omochimetaru</span>
          <a href="/channels/291054454793306112?category=main&amp;channel=swift&amp;message_id=671264232016314369"><span class="chatlog__timestamp">27-Jan-20 07:37 AM</span></a>
        </div>
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">あーーなんか閃いてきた</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671257720271273984" class="chatlog__message-container " data-message-id="671257720271273984">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:38 AM">07:38</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">(移動中・・・</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671258904121966602" class="chatlog__message-container " data-message-id="671258904121966602">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:43 AM">07:43</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">
            <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">sequences.map { $0.first }</div>
          </span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671258963249201163" class="chatlog__message-container " data-message-id="671258963249201163">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:43 AM">07:43</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">↑ここのmapに与えてる関数の型を考えたんですけど</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259092236369921" class="chatlog__message-container " data-message-id="671259092236369921">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:43 AM">07:43</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">
            <div class="chatlog__markdown-pre chatlog__markdown-pre--multiline language-swift">&lt;T: Collection&gt;(_ x: T) -&gt; T.Element</div>
          </span>
          <span class="chatlog__edited-timestamp" title="27-Jan-20 07:44 AM">(edited)</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259204757225493" class="chatlog__message-container " data-message-id="671259204757225493">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:44 AM">07:44</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">↑型としてはこのように書けると思います。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259234062696449" class="chatlog__message-container " data-message-id="671259234062696449">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:44 AM">07:44</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">で、何が引っかかっていたかと言うと</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259296708821004" class="chatlog__message-container " data-message-id="671259296708821004">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:44 AM">07:44</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">今のSwiftでは関数型オブジェクト(クロージャ)は、 ジェネリックパラメータを取れないんです</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259337368535040" class="chatlog__message-container " data-message-id="671259337368535040">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:44 AM">07:44</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">だから、まずそこを拡張する必要がある。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259546143948800" class="chatlog__message-container " data-message-id="671259546143948800">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:45 AM">07:45</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">次に</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259651270246411" class="chatlog__message-container " data-message-id="671259651270246411">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:46 AM">07:46</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">ある多相な型関数 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; B</span> を考えると</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259910016729088" class="chatlog__message-container " data-message-id="671259910016729088">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:47 AM">07:47</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">あいや、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; &lt;B&gt;B</span> かもしれないんですけど</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259919680405554" class="chatlog__message-container " data-message-id="671259919680405554">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:47 AM">07:47</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">この計算(AからBを求めること)を記述できる言語機能は</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671259997971283969" class="chatlog__message-container " data-message-id="671259997971283969">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:47 AM">07:47</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">多分 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">struct</span> に対するメンバの <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">typealias</span> しかない。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671260061133176863" class="chatlog__message-container " data-message-id="671260061133176863">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:47 AM">07:47</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">で、ただ、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;A</span> が多相なので</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671260137884745732" class="chatlog__message-container " data-message-id="671260137884745732">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:48 AM">07:48</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve"><span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;</span> に与えられる実際の型を規定するのが、</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671260195523002371" class="chatlog__message-container " data-message-id="671260195523002371">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:48 AM">07:48</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">言語機能としての <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">protocol</span> だと思う。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671260538247970816" class="chatlog__message-container " data-message-id="671260538247970816">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:49 AM">07:49</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">つまり、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; &lt;B&gt;B</span> は <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">protocol AP { associatedtype R }</span> なときに、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A: AP&gt;(A) -&gt; R</span> な式が持ってる型。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671260899776135178" class="chatlog__message-container " data-message-id="671260899776135178">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:51 AM">07:51</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">普通のクロージャ構文だと、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">$0</span> って書いた時点でもうなんらかの <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">T</span> としてのコンパイルになっちゃってクロージャも <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">(T) -&gt; U</span> になるけど、 そうじゃなくて <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A: P&gt;(A) -&gt; U</span> のほうにならないといけない。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671261023814025236" class="chatlog__message-container " data-message-id="671261023814025236">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:51 AM">07:51</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">でそれがあると、</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671261303708581888" class="chatlog__message-container " data-message-id="671261303708581888">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:52 AM">07:52</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">動的なタプルの場合は動的な処理としてさっきのmapが動かせて</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671261360486875137" class="chatlog__message-container " data-message-id="671261360486875137">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:52 AM">07:52</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">もし入力元のタプルの型が静的にわかっているときは、</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671261514682073130" class="chatlog__message-container " data-message-id="671261514682073130">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:53 AM">07:53</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">静的解析で結果のタプルの型がわかる。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671261801207300098" class="chatlog__message-container " data-message-id="671261801207300098">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:54 AM">07:54</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve"><span class="chatlog__markdown-pre chatlog__markdown-pre--inline">$0.first</span> は、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">$0</span> の型がわかっている(<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; B</span> の <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">A</span> が特定できる)ときには、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">.first</span> の型が静的にわかるけどそれは、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">.first</span> の <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">associatedtype</span> を与えているprotocolがあって、それを個別の <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">A</span> が充足してる　<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">typealias</span> が静的に見えるから、です。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671262234248216596" class="chatlog__message-container " data-message-id="671262234248216596">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:56 AM">07:56</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">任意の <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">x.y</span> の形の式に対して、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">x</span> の型があるプロトコルで制約されていて、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">y</span> がそのプロトコルのメンバなのであれば、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">x.y</span> は静的に具体的な型が決定できる式、って事になりそう。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671262334572036106" class="chatlog__message-container " data-message-id="671262334572036106">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:56 AM">07:56</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve"><span class="chatlog__markdown-pre chatlog__markdown-pre--inline">x</span> だけのときは <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; A</span> まあつまり <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;Self&gt;(Self) -&gt; Self</span>として同じことが言える。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671262624255836170" class="chatlog__message-container " data-message-id="671262624255836170">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:58 AM">07:58</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">式が複雑になって？そうじゃないものが式の中に混ざり込んだ時は、静的に決定できない式になって、 タプルのmapとしては、全部の要素の型が同じタプルになっちゃう。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671262706849939457" class="chatlog__message-container " data-message-id="671262706849939457">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 07:58 AM">07:58</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">そうじゃないものって存在しない気がするな？</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671263159536975873" class="chatlog__message-container " data-message-id="671263159536975873">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 08:00 AM">08:00</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">必ず何らかの式の型はあるから型は決定できるけど、 <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; B</span> の <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">B</span> が　<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;</span> を充足する個別の <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">T</span> に対して静的に解決できる型の場合と <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;</span> に入る <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">T</span> がなんであろうが固定の型になっちゃう場合 ( <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">description($0)</span> など )がある。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671263419684356116" class="chatlog__message-container " data-message-id="671263419684356116">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 08:01 AM">08:01</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">この、個別に異なりえて、かつそれが静的に決定できる場合と、 そうでなくて固定になっちゃう場合が、またなんかちゃんと述べられる気がする。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671263514244939796" class="chatlog__message-container " data-message-id="671263514244939796">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 08:01 AM">08:01</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">やっぱ　<span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; &lt;B&gt;B</span> と <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; B</span> の違いなんじゃないか？？</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671264056350605334" class="chatlog__message-container " data-message-id="671264056350605334">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 08:03 AM">08:03</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">なぜなら、 map に <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">&lt;A&gt;(A) -&gt; B</span> を与えたらそりゃ結果は <span class="chatlog__markdown-pre chatlog__markdown-pre--inline">(B, B, B, ...) </span> でしか無いはずなので。</span>
        </div>
      </div>
    </div>
  </div>
  <div id="chatlog__message-container-671264232016314369" class="chatlog__message-container " data-message-id="671264232016314369">
    <div class="chatlog__message">
      <div class="chatlog__message-aside">
        <div class="chatlog__short-timestamp" title="27-Jan-20 08:04 AM">08:04</div>
      </div>
      <div class="chatlog__message-primary">
        <div class="chatlog__content chatlog__markdown">
          <span class="chatlog__markdown-preserve">で、結果の型は、呼び出し側から決定できるわけじゃないから、リバースジェネリックパラメータがあるってことになりそう。</span>
        </div>
      </div>
    </div>
  </div>
</div>